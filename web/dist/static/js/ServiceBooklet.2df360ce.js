(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ServiceBooklet"],{"035c":function(t,e,o){"use strict";var a=o("a1f3"),i=o.n(a);i.a},"6c7bf":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"crumbs"},[o("el-breadcrumb",{attrs:{separator:"/"}},[o("el-breadcrumb-item",[o("i",{staticClass:"el-icon-lx-cascades"}),t._v(" 服务手册\n            ")])],1)],1),o("div",{staticClass:"container"},[o("el-button",{staticClass:"handle-del mr10 mb-30",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){t.editVisible=!0}}},[t._v("添加")]),o("el-collapse",{attrs:{accordion:""},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tableData,(function(e,a){return o("el-collapse-item",{key:a,attrs:{title:Object.keys(e)[0],name:a}},[o("table",[o("thead",[o("tr",[o("th",[t._v("可能产生的原因")]),o("th",[t._v("排除办法")]),o("th",[t._v("操作")])])]),t._l(e[Object.keys(e)[0]],(function(e,a){return o("tbody",{key:a},[o("tr",[o("td",[t._v(t._s(e.reason))]),o("td",[t._v(t._s(e.function))]),o("td",[o("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(){t.editVisible2=!0,t.form2=e}}},[t._v("编辑")]),o("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(o){return t.deleteBooklet(e)}}},[t._v("删除")])],1)])])}))],2)])})),1)],1),o("el-dialog",{attrs:{title:"添加",visible:t.editVisible,width:"30%"},on:{"update:visible":function(e){t.editVisible=e}}},[o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"130px"}},[o("el-form-item",{attrs:{label:"故障现象"}},[o("el-input",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1),o("el-form-item",{attrs:{label:"可能产生的原因"}},[o("el-input",{model:{value:t.form.reason,callback:function(e){t.$set(t.form,"reason",e)},expression:"form.reason"}})],1),o("el-form-item",{attrs:{label:"排除方法"}},[o("el-input",{model:{value:t.form.function,callback:function(e){t.$set(t.form,"function",e)},expression:"form.function"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"编辑",visible:t.editVisible2,width:"30%"},on:{"update:visible":function(e){t.editVisible2=e}}},[o("el-form",{ref:"form",attrs:{model:t.form2,"label-width":"130px"}},[o("el-form-item",{attrs:{label:"可能产生的原因"}},[o("el-input",{model:{value:t.form2.reason,callback:function(e){t.$set(t.form2,"reason",e)},expression:"form2.reason"}})],1),o("el-form-item",{attrs:{label:"排除方法"}},[o("el-input",{model:{value:t.form2.function,callback:function(e){t.$set(t.form2,"function",e)},expression:"form2.function"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.editVisible2=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.changeBooklet}},[t._v("确 定")])],1)],1)],1)},i=[],n=(o("ac6a"),o("456d"),{name:"ServiceBooklet",data:function(){return{editVisible:!1,activeName:0,tableData:[],form:{},form2:{},editVisible2:!1}},components:{},computed:{},created:function(){this.fetchBooklet()},methods:{fetchBooklet:function(){var t=this;axios({method:"get",url:"/fetchBooklet"}).then((function(e){window.console.log(e.data);var o=[],a=!1;for(var i in e.data){var n={};for(var l in o)e.data[i].type===Object.keys(o[l])[0]&&(window.console.log(o[l]),o[l][e.data[i].type].push({function:e.data[i].function,id:e.data[i].id,reason:e.data[i].reason}),a=!0);a?a=!1:(n[e.data[i].type]=[],n[e.data[i].type].push({function:e.data[i].function,id:e.data[i].id,reason:e.data[i].reason}),o.push(n))}window.console.log(o),t.tableData=o})).catch((function(t){}))},saveEdit:function(){var t=this;this.editVisible=!1,axios({method:"post",url:"/addNewBooklet",data:this.form}).then((function(e){window.console.log(e.data),t.fetchBooklet()})).catch((function(t){}))},deleteBooklet:function(t){var e=this;window.console.log(t),this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){axios({method:"get",url:"/deleteBooklet",params:{id:t.id}}).then((function(t){e.$message({type:"success",message:t.data}),e.fetchBooklet()})).catch((function(t){}))})).catch((function(t){}))},changeBooklet:function(){var t=this;axios({method:"post",url:"/changeBooklet",data:{data:this.form2}}).then((function(e){window.console.log(e.data),t.fetchBooklet(),t.editVisible2=!1})).catch((function(t){}))}}}),l=n,s=(o("035c"),o("2877")),c=Object(s["a"])(l,a,i,!1,null,"32b8d249",null);e["default"]=c.exports},a1f3:function(t,e,o){}}]);