(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["EquipmentMonitoring"],{"44de":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("div",{staticClass:"crumbs"},[l("el-breadcrumb",{attrs:{separator:"/"}},[l("el-breadcrumb-item",[l("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 远程监控\n            ")]),l("el-breadcrumb-item",[e._v("设备监控")])],1)],1),l("div",{staticClass:"container"},[l("div",{staticClass:"handle-box"},[l("el-row",[l("el-col",[l("div",{staticClass:"product-status"},[l("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"请输入关键字"},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}}),l("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")]),l("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-refresh"},on:{click:e.refresh}},[e._v("重置")]),l("el-button",{staticClass:"handle-del",attrs:{type:"primary",icon:"el-icon-delete"},on:{click:function(t){e.visible=!0}}},[e._v("阈值查看")]),l("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"阈值详情",center:"",visible:e.visible,width:"30%"},on:{"update:visible":function(t){e.visible=t}}},[l("div",[l("table",[l("thead",[l("tr",[l("th",[e._v("测点名称")]),l("th",[e._v("上限值")]),l("th",[e._v("下限值")])])]),l("tbody",[l("tr",[l("td",[e._v("主机温度")]),l("td",[e._v("234")]),l("td",[e._v("123")])]),l("tr",[l("td",[e._v("主机温度")]),l("td",[e._v("234")]),l("td",[e._v("123")])]),l("tr",[l("td",[e._v("主机温度")]),l("td",[e._v("234")]),l("td",[e._v("123")])]),l("tr",[l("td",[e._v("主机温度")]),l("td",[e._v("234")]),l("td",[e._v("123")])]),l("tr",[l("td",[e._v("主机温度")]),l("td",[e._v("234")]),l("td",[e._v("123")])]),l("tr",[l("td",[e._v("主机温度")]),l("td",[e._v("234")]),l("td",[e._v("123")])])])])]),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.visible=!1}}},[e._v("确 定")])],1)])],1)])],1)],1),l("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:"","header-cell-class-name":"table-header"},on:{"selection-change":e.handleSelectionChange,"cell-click":e.showMore}},[l("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),l("el-table-column",{attrs:{prop:"id",label:"序号",width:"55",align:"center",type:"index"}}),l("el-table-column",{attrs:{prop:"DeviceID",label:"设备ID"}}),l("el-table-column",{attrs:{prop:"DeviceName",label:"设备名称"}}),l("el-table-column",{attrs:{prop:"DeviceClass",label:"设备种类"}}),l("el-table-column",{attrs:{prop:"Model",label:"型号描述"}}),l("el-table-column",{attrs:{prop:"SerialNumber",label:"出厂编号"}}),l("el-table-column",{attrs:{prop:"CustomerName",label:"客户名称"}}),l("el-table-column",{attrs:{prop:"Engin",label:"主机温度(℃)"}}),l("el-table-column",{attrs:{prop:"WaterTank",label:"水箱温度(℃)"}}),l("el-table-column",{attrs:{prop:"Enter",label:"进口温度(℃)"}}),l("el-table-column",{attrs:{prop:"Export",label:"出口温度(℃)"}}),l("el-table-column",{attrs:{prop:"Pressure",label:"压力"}}),l("el-table-column",{attrs:{prop:"DiffPressure",label:"压差"}}),l("el-table-column",{attrs:{prop:"RotatingSpeed",label:"电机转速(转/分)"}}),l("el-table-column",{attrs:{prop:"Current",label:"电流(A)"}}),l("el-table-column",{attrs:{prop:"Level",label:"主油箱液位(mm)"}}),l("el-table-column",{attrs:{prop:"Temperature",label:"主油箱温度(℃)"}}),l("el-table-column",{attrs:{prop:"TemperatureFeedLine",label:"供油管路温度(℃)"}}),l("el-table-column",{attrs:{prop:"EmergencyDiffPressure",label:"紧急过滤器压差"}}),l("el-table-column",{attrs:{prop:"BinocularsDiffPressure",label:"双筒过滤器压差"}}),l("el-table-column",{attrs:{prop:"FuelTankLevel",label:"高位油箱液位(mm)"}}),l("el-table-column",{attrs:{prop:"ControlOilPressure",label:"控制油压力"}}),l("el-table-column",{attrs:{prop:"LubricatingOilOutletPressure",label:"润滑油出口压力"}}),l("el-table-column",{attrs:{prop:"MotorPumpShock",label:"电机泵组震动"}}),l("el-table-column",{attrs:{prop:"MotorCurrent",label:"电机电流"}}),l("el-table-column",{attrs:{prop:"MainTankOilAnalysis",label:"主油箱油品分析"}}),l("el-table-column",{attrs:{prop:"ErrorCode",label:"故障代码"}}),l("el-table-column",{attrs:{prop:"Duration",label:"运行时长(h)"}}),l("el-table-column",{attrs:{prop:"status",label:"工作状态"}}),l("el-table-column",{attrs:{prop:"switch",label:"开关机"}})],1),l("div",{staticClass:"pagination"},[l("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal},on:{"current-change":e.handlePageChange}})],1)],1),l("el-dialog",{attrs:{title:"编辑",visible:e.editVisible,width:"30%"},on:{"update:visible":function(t){e.editVisible=t}}},[l("el-form",{ref:"form",attrs:{model:e.form,"label-width":"70px"}},[l("el-form-item",{attrs:{label:"用户名"}},[l("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),l("el-form-item",{attrs:{label:"地址"}},[l("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("确 定")])],1)],1)],1)},i=[],r=(l("7f7f"),l("6762"),l("2fdb"),{name:"EquipmentMonitoring",data:function(){return{visible:!1,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,l=new Date;l.setTime(l.getTime()-6048e5),e.$emit("pick",[l,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,l=new Date;l.setTime(l.getTime()-2592e6),e.$emit("pick",[l,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,l=new Date;l.setTime(l.getTime()-7776e6),e.$emit("pick",[l,t])}}]},value1:"",value2:"",query:{address:"",name:"",pageIndex:1,pageSize:10},tableData:[],multipleSelection:[],delList:[],editVisible:!1,pageTotal:0,form:{},idx:-1,id:-1}},created:function(){this.getData()},methods:{getData:function(){var e=this;axios({method:"get",url:"/fetchEquipment"}).then((function(t){window.console.log(t),200===t.status?(e.tableData=t.data,e.pageTotal=t.data.length,window.console.log(t.data)):window.console.log("服务器错误")}))},handleSearch:function(){var e=this;this.tableData=this.tableData.filter((function(t,l){for(var a in t)if((t[a]+"").includes(e.query.msg))return!0}))},refresh:function(){this.getData(),this.query.msg=""},handleDelete:function(e,t){var l=this;this.$confirm("确定要删除吗？","提示",{type:"warning"}).then((function(){l.$message.success("删除成功"),l.tableData.splice(e,1)})).catch((function(){}))},handleSelectionChange:function(e){this.multipleSelection=e},delAllSelection:function(){var e=this.multipleSelection.length,t="";this.delList=this.delList.concat(this.multipleSelection);for(var l=0;l<e;l++)t+=this.multipleSelection[l].name+" ";this.$message.error("删除了".concat(t)),this.multipleSelection=[]},handleEdit:function(e,t){this.idx=e,this.form=t,this.editVisible=!0},saveEdit:function(){this.editVisible=!1,this.$message.success("修改第 ".concat(this.idx+1," 行成功")),this.$set(this.tableData,this.idx,this.form)},handlePageChange:function(e){this.$set(this.query,"pageIndex",e),this.getData()},showMore:function(e,t,l,a){var i;window.console.log(e,t,l,a);var r=["主机温度(℃)","水箱温度(℃)","进口温度(℃)","出口温度(℃)","压力","压差","电机转速(转/分)","电流(A)","主油箱液位(mm)","主油箱温度(℃)","供油管路温度(℃)","紧急过滤器压差","双筒过滤器压差","高位油箱液位(mm)","控制油压力","润滑油出口压力","电机泵组震动","电机电流","主油箱油品分析","运行时长(h)"];if(i=r.includes(t.label),!i)return!1;this.$router.push({path:"/MeasuringPointDetails",query:{type:t.property,id:e.DeviceID,label:t.label,row:e}})}}}),n=r,o=(l("d6b4"),l("2877")),s=Object(o["a"])(n,a,i,!1,null,"3402984e",null);t["default"]=s.exports},d6b4:function(e,t,l){"use strict";var a=l("f287"),i=l.n(a);i.a},f287:function(e,t,l){}}]);